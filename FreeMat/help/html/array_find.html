<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<HTML>
<HEAD>
<TITLE>FIND Find Non-zero Elements of An Array
</TITLE>
</HEAD>
<BODY>
<H2>FIND Find Non-zero Elements of An Array
</H2>
<P>
Section: <A HREF=sec_array.html> Array Generation and Manipulations </A>
<H3>Usage</H3>
Returns a vector that contains the indicies of all non-zero elements 
in an array.  The usage is
<PRE>
   y = find(x)
</PRE>
<P>
The indices returned are generalized column indices, meaning that if 
the array <code>x</code> is of size <code>[d1,d2,...,dn]</code>, and the
element <code>x(i1,i2,...,in)</code> is nonzero, then <code>y</code>
will contain the integer
<P>
<DIV ALIGN="CENTER">
<IMG SRC="find_eqn1.png">
</DIV>
<P>
The second syntax for the <code>find</code> command is
<PRE>
   [r,c] = find(x)
</PRE>
<P>
which returns the row and column index of the nonzero entries of <code>x</code>.
The third syntax for the <code>find</code> command also returns the values
<PRE>
   [r,c,v] = find(x).
</PRE>
<P>
Note that if the argument is a row vector, then the returned vectors
are also row vectors. This form is particularly useful for converting 
sparse matrices into IJV form.

The <code>find</code> command also supports some additional arguments.  Each of the
above forms can be combined with an integer indicating how many results
to return:
<PRE>
   y = find(x,k)
</PRE>
<P>
where <code>k</code> is the maximum number of results to return.  This form will return
the first <code>k</code> results.  You can also specify an optional flag indicating 
whether to take the first or last <code>k</code> values:
<PRE>
   y = find(x,k,'first')
   y = find(x,k,'last')
</PRE>
<P>
in the case of the <code>'last'</code> argument, the last <code>k</code> values are returned.
<H3>Example</H3>
Some simple examples of its usage, and some common uses of <code>find</code> in FreeMat programs.
<PRE>
--&gt; a = [1,2,5,2,4];
--&gt; find(a==2)

ans = 
 2 4 
</PRE>
<P>
Here is an example of using find to replace elements of <code>A</code> that are <code>0</code> with the number <code>5</code>.
<PRE>
--&gt; A = [1,0,3;0,2,1;3,0,0]

A = 
 1 0 3 
 0 2 1 
 3 0 0 

--&gt; n = find(A==0)

n = 
 2 
 4 
 6 
 9 

--&gt; A(n) = 5

A = 
 1 5 3 
 5 2 1 
 3 5 5 
</PRE>
<P>
Incidentally, a better way to achieve the same concept is:
<PRE>
--&gt; A = [1,0,3;0,2,1;3,0,0]

A = 
 1 0 3 
 0 2 1 
 3 0 0 

--&gt; A(A==0) = 5

A = 
 1 5 3 
 5 2 1 
 3 5 5 
</PRE>
<P>
Now, we can also return the indices as row and column indices using the two argument
form of <code>find</code>:
<PRE>
--&gt; A = [1,0,3;0,2,1;3,0,0]

A = 
 1 0 3 
 0 2 1 
 3 0 0 

--&gt; [r,c] = find(A)
r = 
 1 
 3 
 2 
 1 
 2 

c = 
 1 
 1 
 2 
 3 
 3 
</PRE>
<P>
Or the three argument form of <code>find</code>, which returns the value also:
<PRE>
--&gt; [r,c,v] = find(A)
r = 
 1 
 3 
 2 
 1 
 2 

c = 
 1 
 1 
 2 
 3 
 3 

v = 
 1 
 3 
 2 
 3 
 1 
</PRE>
<P>
</BODY>
</HTML>
