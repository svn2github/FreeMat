<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<HTML>
<HEAD>
<TITLE>CTYPEREAD Read a C Structure From File
</TITLE>
</HEAD>
<BODY>
<H2>CTYPEREAD Read a C Structure From File
</H2>
<P>
Section: <A HREF=sec_external.html> FreeMat External Interface </A>
<H3>Usage</H3>
The <code>ctyperead</code> function is a convenience function for
reading a C structure from a file.  This is generally a
very bad idea, as direct writing of C structures to files
is notoriously unportable.  Consider yourself warned.  The
syntax for this function is
<PRE>
   a = ctyperead(fid,'typename')
</PRE>
<P>
where <code>'typename'</code> is a string containing the name of the
C structure as defined using <code>ctypedefine</code>, and <code>fid</code>
is the file handle returned by the <code>fopen</code> command.  Note
that this form will read a single structure from the file.
If you want to read multiple structures into an array, 
use the following form
<PRE>
   a = ctyperead(fid,'typename',count)
</PRE>
<P>
Note that the way this function works is by using <code>ctypesize</code>
to compute the size of the structure, reading that many bytes
from the file, and then calling <code>ctypethaw</code> on the resulting
buffer.  A consequence of this behavior is that the byte-endian
corrective behavior of FreeMat does not work.
</BODY>
</HTML>
