% Copyright (c) 2002, 2003 Samit Basu
%
% Permission is hereby granted, free of charge, to any person obtaining a 
% copy of this software and associated documentation files (the "Software"), 
% to deal in the Software without restriction, including without limitation 
% the rights to use, copy, modify, merge, publish, distribute, sublicense, 
% and/or sell copies of the Software, and to permit persons to whom the 
% Software is furnished to do so, subject to the following conditions:
%
% The above copyright notice and this permission notice shall be included 
% in all copies or substantial portions of the Software.
%
% THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS 
% OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, 
% FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL 
% THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER 
% LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
% FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER 
% DEALINGS IN THE SOFTWARE.
\subsection{PRINTF Formated Output Function (C-Style)}
\subsubsection{Usage}
Prints values to the output.  The general syntax for its use is
\begin{verbatim}
  printf(format,a1,a2,...)
\end{verbatim}
Here \verb|format| is the format string, which is a string that
controls the format of the output.  The values of the variables
$a_i$ are substituted into the output as required.  It is
an error if there are not enough variables to satisfy the format
string.  Note that this \verb|printf| command is not vectorized!  Each
variable must be a scalar.

\subsubsection{Format of the format string:}

The  format  string  is a character string, beginning and ending in its
initial shift state, if any.  The format string is composed of zero  or
more   directives:  ordinary  characters  (not  \%),  which  are  copied
unchanged to the output stream; and conversion specifications, each  of
which results in fetching zero or more subsequent arguments.  Each 
conversion specification is introduced by the character \%, and ends with a
conversion  specifier.  In between there may be (in this order) zero or
more flags, an optional minimum field width, and an optional precision.

The  arguments must correspond properly (after type promotion) with the
conversion specifier, and are used in the order given.

\subsubsection{The flag characters:}

The character \% is followed by zero or more of the following flags:
\begin{itemize}
  \item \texttt{\#}   The  value  should be converted to an ``alternate form''.  For \texttt{o} conversions, the first character of the output  string  is  made  zero (by prefixing a $0$ if it was not zero already).  For \texttt{x} and \texttt{X} conversions, a nonzero result has the string \texttt{'0x'} (or \texttt{'0X'} for  \texttt{X}  conversions) prepended to it.  For \texttt{a, A, e, E, f, F, g,} and \texttt{G}  conversions, the result will always  contain  a  decimal  point,  even  if  no digits follow it (normally, a decimal point appears  in the results of those conversions only if  a  digit  follows).  For \texttt{g} and \texttt{G} conversions, trailing zeros are not removed from the  result as they would otherwise be.  For other  conversions,  the  result is undefined.
  \item \texttt{0}   The value should be zero padded.  For \texttt{d, i, o, u, x, X, a, A, e, E, f, F, g,} and \texttt{G} conversions, the converted value is padded  on the  left  with  zeros rather than blanks.  If the \texttt{0} and \texttt{-} flags  both appear, the \texttt{0} flag is ignored.  If  a  precision  is  given  with  a numeric conversion \texttt{(d, i, o, u, x, and X)}, the \texttt{0} flag is  ignored.  For other conversions, the behavior is undefined.
  \item \texttt{-}   The converted value is to be left adjusted on the  field  boundary.  (The default is right justification.) Except for \texttt{n} conversions, the converted value is padded on the right  with  blanks, rather than on the left with blanks or zeros.  A \texttt{-} overrides a \texttt{0} if both are given.
  \item \texttt{' '} (a space) A blank should be left before a  positive  number  (or empty string) produced by a signed conversion.
  \item \texttt{+} A  sign  (\texttt{+} or \texttt{-}) always be placed before a number produced by a signed conversion.  By default a sign is used only for  negative numbers. A \texttt{+} overrides a space if both are used.
\end{itemize}

\subsubsection{The field width:}

An  optional decimal digit string (with nonzero first digit) specifying a minimum field width.  If the converted  value  has  fewer  characters than  the  field  width,  it will be padded with spaces on the left (or right, if the left-adjustment flag has been given).  A  negative  field width is taken as a \texttt{'-'} flag followed by a positive field  width. In no case does a non-existent or small field width cause truncation of a field; if the result of a conversion is wider than the  field  width, the field is expanded to contain the conversion result.

\subsubsection{The precision:}

An  optional  precision,  in the form of a period (\texttt{'.'})  followed by an optional decimal digit string.  If the precision is given as just \texttt{'.'}, or the precision is negative, the precision is  taken  to  be zero.   This  gives the minimum number of digits to appear for \texttt{d, i, o, u, x}, and \texttt{X} conversions, the number of digits to appear after the radix character  for  \texttt{a, A, e, E, f}, and \texttt{F} conversions, the maximum number of significant digits for \texttt{g} and \texttt{G} conversions, or the  maximum  number  of  characters to be printed from a string for s conversions.

\subsubsection{The conversion specifier:}

A character that specifies the type of conversion to be  applied.   The
conversion specifiers and their meanings are:
\begin{itemize}
\item \texttt{d,i}   The  int  argument is converted to signed decimal notation.  The  precision, if any, gives the minimum number of digits that  must   appear;  if  the  converted  value  requires fewer digits, it is    padded on the left with zeros. The default precision is $1$.  When $0$  is printed with an explicit precision $0$, the output is empty.
\item \texttt{o,u,x,X}   The unsigned int argument is converted to  unsigned  octal  (\texttt{o}),  unsigned  decimal  (\texttt{u}),  or unsigned hexadecimal (\texttt{x} and \texttt{X}) notation.  The letters \texttt{abcdef} are used for \texttt{x} conversions;  the  letters \texttt{ABCDEF} are used for \texttt{X} conversions.  The precision, if any,  gives the minimum number of digits that must appear; if the converted  value  requires  fewer  digits, it is padded on the left  with zeros. The default precision is $1$.  When $0$ is printed  with  an explicit precision $0$, the output is empty.
\item \texttt{e,E}    The  double  argument  is  rounded  and  converted  in the style  \texttt{[-]d.dddeÂ±dd} where there is one digit before  the  decimal-point  character and the number of digits after it is equal to the precision; if the precision is missing, it is taken as  $6$;  if  the    precision  is  zero,  no  decimal-point character appears.  An \texttt{E}  conversion uses the letter \texttt{E} (rather than \texttt{e})  to  introduce  the  exponent.   The exponent always contains at least two digits; if  the value is zero, the exponent is $00$.
\item \texttt{f,F}   The double argument is rounded and converted to decimal notation  in  the  style  \texttt{[-]ddd.ddd}, where the number of digits after the decimal-point character is equal to the precision specification.  If  the precision is missing, it is taken as $6$; if the precision  is explicitly zero, no decimal-point character  appears.   If  a   decimal point appears, at least one digit appears before it.
\item \texttt{g,G}   The double argument is converted in style \texttt{f} or \texttt{e} (or \texttt{F} or \texttt{E}  for  \texttt{G}  conversions).  The precision specifies the number of significant digits.  If the precision is missing, $6$ digits  are  given;  if  the  precision is zero, it is treated as $1$.  Style e is used   if the exponent from its conversion is less than $-4$  or  greater than or equal to the precision.  Trailing zeros are removed from  the fractional part of the result; a decimal point appears  only  if it is followed by at least one digit.
\item \texttt{c} The int argument is  converted  to  an  unsigned  char, and  the resulting character is written.
\item \texttt{s} The string argument is printed.
\item \texttt{\%}   A \texttt{'\%'} is written. No argument is converted. The complete conversion specification is \texttt{'\%\%'}.
\end{itemize}
\subsubsection{Example}
Here are some examples of the use of \verb|printf| with various arguments.  First we print out an integer and double value.
\begin{verbatim}
--> printf('intvalue is %d, floatvalue is %f\n',3,1.53);
intvalue is 3, floatvalue is 1.530000
\end{verbatim}
Next, we print out a string value.
\begin{verbatim}
--> printf('string value is %s\n','hello');
string value is hello
\end{verbatim}
Now, we print out an integer using $12$ digits, zeros up front.
\begin{verbatim}
--> printf('integer padded is %012d\n',32);
integer padded is 000000000032
\end{verbatim}
Print out a double precision value with a sign, a total of $18$ characters (zero prepended if necessary), a decimal point, and $12$ digit precision.
\begin{verbatim}
--> printf('float value is %+018.12f\n',pi);
float value is +0003.141592653590
\end{verbatim}
